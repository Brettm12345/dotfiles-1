# ┏┳┓╻┏ ┏━┓╻ ╻
# ┃┃┃┣┻┓┗━┓┣━┫
# ╹ ╹╹ ╹┗━┛╹ ╹
# by tudurom
# not sucking since forever

for dot in $HOME/.shell.d/*; do
    . $dot
done

HISTFILE="$HOME/.mksh_history"
typeset ret_code
set -o bgnice

# use coreutils' rename
alias rename="/usr/bin/rename"

prompt () {
    exit_color=6
    b="$(tput bold)"
    l="$(echo -n $b; tput setaf 0)"
    z="$(tput sgr0)"
    e="$(tput setaf $exit_color)"
    _ERR=$?
    if [ $_ERR -ne 0 ]; then
        exit_color=1
    fi
    dir="${l}$(pwd | sed -e "s/\/usr\/home\/$USER/~/" | sed -e "s/\/home\/$USER/~/")"
    arrow="${e}───"
    echo "${dir}"
    echo "${arrow}${z} "
}

PS1='$(prompt)'
PS2='> '

# Colored man pages
man() {
    env LESS_TERMCAP_mb=$'\E[01;31m' \
    LESS_TERMCAP_md=$'\E[01;38;5;74m' \
    LESS_TERMCAP_me=$'\E[0m' \
    LESS_TERMCAP_se=$'\E[0m' \
    LESS_TERMCAP_so=$'\E[38;5;246m' \
    LESS_TERMCAP_ue=$'\E[0m' \
    LESS_TERMCAP_us=$'\E[04;38;5;146m' \
    man "$@"
}

# vim: set syntax=sh :
